---
const Links = [
    {
        name: "m",
        link: "",
    },
];
import "../styles/global.css";
---

<nav>
    <!-- BOTÓN -->
    <a
        id="menu-button"
        class="cursor-pointer text-white lg:hidden"
        aria-controls="navbar-sticky"
        aria-expanded="false"
    >
        <div class="p-2 hover:bg-kai-200 rounded-md dark:hover:bg-kai-900">
            <!-- ICONO MENÚ -->
            <svg
                id="icon-menu"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="block"
            >
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M4 8h16"></path>
                <path d="M4 16h16"></path>
            </svg>

            <!-- ICONO CERRAR (X) -->
            <svg
                id="icon-close"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="hidden"
            >
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M18 6L6 18"></path>
                <path d="M6 6l12 12"></path>
            </svg>
        </div>
    </a>

    <!-- MENÚ -->
    <div id="menu-open" class="hidden w-full navbar">
        <div
            class="bg-[#9C9492] z-[1001] animate-slide-in-bottom animate-duration-medium w-[100vw] md:w-[100vw] h-[calc(100vh-9px)] lg:hidden left-0 top-[350px] flex justify-center px-6 absolute font-medium md:mt-0 pt-4"
        >
            <div
                class="flex justify-around h-full min-w-[85vw] w-full text-start"
            >
                <ul class="w-full mb-2">
                    <h3 class="mt-2"><b>Dashboard:</b></h3>

                    <li class="border-l dark:border-white border-black">
                        <a
                            href="/"
                            class="menu-link hover:underline text-start btn block py-2 pl-3 dark:text-white dark:hover:text-kai-text rounded hover:text-kai-text"
                        >
                            Inicio
                        </a>
                    </li>

                    <li class="border-l dark:border-white border-black">
                        <a
                            href="#servicios"
                            class="menu-link hover:underline text-start btn block py-2 pl-3 dark:text-white dark:hover:text-kai-text rounded hover:text-kai-text"
                            target="_top"
                        >
                            Survi-Mods
                        </a>
                    </li>

                    <li class="border-l dark:border-white border-black">
                        <a
                            href="#informacion"
                            class="menu-link hover:underline text-start btn block py-2 pl-3 dark:text-white dark:hover:text-kai-text rounded hover:text-kai-text"
                            target="_top"
                        >
                            Survi-Reglas
                        </a>
                    </li>
                    <li>
                        <div
                            class="flex pr-5 items-center justify-start max-w-[200px] text-center h-full"
                        >
                            <a
                                href="https://www.tiktok.com/@survicraft_2"
                                target="_blank"
                                class="hover:scale-110 bg-[#fff] transition-all duration-200 ease-in-out scale-90 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2 hover:cursor-pointer"
                                type="button"
                            >
                                <div
                                    class="w-full h-full flex items-center justify-center"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="#000"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon icon-tabler icons-tabler-outline icon-tabler-brand-tiktok"
                                        ><path
                                            stroke="none"
                                            d="M0 0h24v24H0z"
                                            fill="none"></path><path
                                            d="M21 7.917v4.034a9.948 9.948 0 0 1 -5 -1.951v4.5a6.5 6.5 0 1 1 -8 -6.326v4.326a2.5 2.5 0 1 0 4 2v-11.5h4.083a6.005 6.005 0 0 0 4.917 4.917z"
                                        ></path></svg
                                    >
                                </div>
                            </a>
                            <a
                                href="https://discord.gg/qpU4qSXBuT"
                                target="_blank"
                                class="hover:scale-110 bg-[#fff] transition-all duration-200 ease-in-out scale-90 shadow-lg font-normal h-10 w-10 items-center justify-center rounded-full outline-none focus:outline-none mr-2"
                                type="button"
                            >
                                <div
                                    class="w-full h-full flex items-center justify-center"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="#000"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        class="icon icon-tabler icons-tabler-outline icon-tabler-brand-discord"
                                        ><path
                                            stroke="none"
                                            d="M0 0h24v24H0z"
                                            fill="none"></path><path
                                            d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"
                                        ></path><path
                                            d="M14 12a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"
                                        ></path><path
                                            d="M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-.972 1.923a11.913 11.913 0 0 0 -4.053 0l-.975 -1.923c-1.5 .16 -3.043 .485 -4.5 1.5c-2 5.667 -2.167 9.833 -1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2 -2 2 -3"
                                        ></path><path
                                            d="M7 16.5c3.5 1 6.5 1 10 0"
                                        ></path></svg
                                    >
                                </div>
                            </a>
                        </div>
                    </li>
                </ul>

                <ul class="w-full mb-2">
                    <h3 class="mt-2"><b>Servicios:</b></h3>

                    {
                        Links.map((link) => (
                            <li class="">
                                <a
                                    href={`/servicios${link.link}`}
                                    class="menu-link hover:underline text-start btn block pt-2 pl-3 dark:text-white dark:hover:text-kai-text rounded hover:text-kai-text"
                                >
                                    {link.name}
                                </a>
                            </li>
                        ))
                    }
                </ul>
            </div>
        </div>
    </div>
</nav>
<div
    id="menu-overlay"
    class="hidden fixed top-[90px] left-0 w-full h-[calc(100vh-90px)] bg-black/40 z-[900]"
>
</div>

<script>
    const button = document.querySelector("#menu-button");
    const menuOpen = document.querySelector("#menu-open");
    const iconMenu = document.querySelector("#icon-menu");
    const iconClose = document.querySelector("#icon-close");
    const overlay = document.querySelector("#menu-overlay");

    function closeMenu() {
        menuOpen.classList.add("hidden");
        overlay.classList.add("hidden");
        iconMenu.classList.remove("hidden");
        iconClose.classList.add("hidden");
    }

    // Abrir / cerrar menú
    button?.addEventListener("click", () => {
        menuOpen.classList.toggle("hidden");
        overlay.classList.toggle("hidden");

        const isOpen = !menuOpen.classList.contains("hidden");
        iconMenu.classList.toggle("hidden", isOpen);
        iconClose.classList.toggle("hidden", !isOpen);
    });

    // Cerrar al hacer clic en un link
    document.querySelectorAll(".menu-link").forEach((link) => {
        link.addEventListener("click", closeMenu);
    });

    // Cerrar al tocar fuera del menú (overlay)
    overlay.addEventListener("click", closeMenu);
</script>
